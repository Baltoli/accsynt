name: CI Build

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
    - name: Install LLVM
      run: |
        wget https://apt.llvm.org/llvm.sh
        chmod +x llvm.sh
        sudo ./llvm.sh 9

    - name: Build AccSynt
      run: |
        mkdir build
        cd build
        cmake \
              -DCMAKE_BUILD_TYPE=Debug \
              -DLLVM_DIR=`llvm-config-9 --cmakedir` \
              ../src
        make -j `nproc`
